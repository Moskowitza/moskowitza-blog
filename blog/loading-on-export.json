{"title":"Load images on exported site","slug":"loading-on-export","html":"\n<p>When I deployed the sapper template to github pages success kid did not show up. To solve this problem I looked at the src attribute of the image tag and saw <i>src=\"/client/_some-hash_.jpg\"</i> I looked under the sources tag and saw the image was downloaded but the directory path was not correct in the markup. The src should be <i>src=\"/moskowitza-blog/client/_some-hash_.jpg\"</i></p>\n<p>From there I went mad googling solutions, re-read the previous blog posts and realized I was on my own. I had a sense I could chnage this path in the rollup config. This is the first time I'm using rollup instead of webpack (I could not get HMR working with webpack). Fortunately, the solution was straightforward.</p>\n\n<ul>\n\t<li>get your base path, in my case the name of the repo</li>\n\t<li>find the 2 places in the rollup.config.js where we set publicpath property in the url() </li>\n\t<li>Replace that path with a ternerary checking the envitorment</li>\n\t<li>publicPath: dev ? '/client/' : '/<i>your-repo-name</i>/client/',</li>\n</ul>\n\n<p>The image now shows up when visiting the deployed site on GH pages and when I develop locally.</p>\n\t\t"}